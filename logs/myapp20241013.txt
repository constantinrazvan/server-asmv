2024-10-13 22:24:49.004 +03:00 [INF] User profile is available. Using 'C:\Users\razvan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-13 22:24:50.209 +03:00 [INF] Now listening on: http://0.0.0.0:5235
2024-10-13 22:24:50.758 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-13 22:24:50.762 +03:00 [INF] Hosting environment: Development
2024-10-13 22:24:50.765 +03:00 [INF] Content root path: C:\Users\razvan\Desktop\server-asmv
2024-10-13 22:26:28.106 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/index.html - null null
2024-10-13 22:26:28.379 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/index.html - 200 null text/html;charset=utf-8 275.9605ms
2024-10-13 22:26:28.475 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/swagger-ui.css - null null
2024-10-13 22:26:28.491 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/swagger-ui-bundle.js - null null
2024-10-13 22:26:28.531 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-10-13 22:26:28.549 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-10-13 22:26:28.549 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/swagger-ui.css - 200 143943 text/css 74.6057ms
2024-10-13 22:26:28.566 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 75.0264ms
2024-10-13 22:26:28.575 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/swagger-ui-standalone-preset.js - null null
2024-10-13 22:26:28.598 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-10-13 22:26:28.605 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 31.0493ms
2024-10-13 22:26:29.564 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/v1/swagger.json - null null
2024-10-13 22:26:29.986 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 422.3178ms
2024-10-13 22:30:42.666 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5235/api/Volunteers/new-volunteer - multipart/form-data; boundary=----WebKitFormBoundaryHBGBn78ONxt1BYxD 1483
2024-10-13 22:30:42.682 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-13 22:30:42.749 +03:00 [INF] CORS policy execution successful.
2024-10-13 22:30:42.755 +03:00 [INF] Executing endpoint 'ServerAsmv.Controllers.VolunteersController.AddVolunteer (ServerAsmv)'
2024-10-13 22:30:42.813 +03:00 [INF] Route matched with {action = "AddVolunteer", controller = "Volunteers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] AddVolunteer(ServerAsmv.DTOs.VolunteerDTO, Microsoft.AspNetCore.Http.IFormFile) on controller ServerAsmv.Controllers.VolunteersController (ServerAsmv).
2024-10-13 22:30:46.052 +03:00 [INF] Executed action ServerAsmv.Controllers.VolunteersController.AddVolunteer (ServerAsmv) in 3229.1234ms
2024-10-13 22:30:46.055 +03:00 [INF] Executed endpoint 'ServerAsmv.Controllers.VolunteersController.AddVolunteer (ServerAsmv)'
2024-10-13 22:30:46.060 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<Volunteer>.Find' was of type 'string', which does not match the property type of 'long'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(IKey key, Object[] keyValues)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues)
   at ServerAsmv.Services.VolunteerService.AddVolunteer(VolunteerDTO newVolunteer, IFormFile photo) in C:\Users\razvan\Desktop\server-asmv\Services\VolunteerService.cs:line 23
   at ServerAsmv.Controllers.VolunteersController.AddVolunteer(VolunteerDTO volunteer, IFormFile photo) in C:\Users\razvan\Desktop\server-asmv\Controllers\VolunteersController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-13 22:30:46.124 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5235/api/Volunteers/new-volunteer - 500 null text/plain; charset=utf-8 3457.864ms
2024-10-13 22:41:22.482 +03:00 [INF] Application is shutting down...
2024-10-13 22:41:38.505 +03:00 [INF] User profile is available. Using 'C:\Users\razvan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-13 22:41:38.897 +03:00 [INF] Now listening on: http://0.0.0.0:5235
2024-10-13 22:41:38.905 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-13 22:41:38.908 +03:00 [INF] Hosting environment: Development
2024-10-13 22:41:38.928 +03:00 [INF] Content root path: C:\Users\razvan\Desktop\server-asmv
2024-10-13 22:42:59.777 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/index.html - null null
2024-10-13 22:43:00.209 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/index.html - 200 null text/html;charset=utf-8 436.7287ms
2024-10-13 22:43:04.511 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/v1/swagger.json - null null
2024-10-13 22:43:04.697 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/favicon-32x32.png - null null
2024-10-13 22:43:05.048 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-10-13 22:43:05.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/favicon-32x32.png - 200 628 image/png 356.8792ms
2024-10-13 22:43:05.300 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 788.9699ms
2024-10-13 22:43:40.089 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5235/api/Volunteers/new-volunteer - multipart/form-data; boundary=----WebKitFormBoundaryxBKMBRkBcdPFsD2Z 60246
2024-10-13 22:43:40.110 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-13 22:43:40.196 +03:00 [INF] CORS policy execution successful.
2024-10-13 22:43:40.205 +03:00 [INF] Executing endpoint 'ServerAsmv.Controllers.VolunteersController.AddVolunteer (ServerAsmv)'
2024-10-13 22:43:40.281 +03:00 [INF] Route matched with {action = "AddVolunteer", controller = "Volunteers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] AddVolunteer(ServerAsmv.DTOs.VolunteerDTO, Microsoft.AspNetCore.Http.IFormFile) on controller ServerAsmv.Controllers.VolunteersController (ServerAsmv).
2024-10-13 22:43:45.230 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__newVolunteer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Email", v."Firstname", v."JoinedDate", v."Lastname", v."President", v."VicePresident"
FROM volunteers AS v
WHERE v."Email" = @__newVolunteer_Email_0
LIMIT 1
2024-10-13 22:43:48.076 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO volunteers ("Email", "Firstname", "JoinedDate", "Lastname", "President", "VicePresident")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-10-13 22:43:48.135 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p6='?', @p7='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "VolunteerImages" ("Url", "VolunteerId")
VALUES (@p6, @p7)
RETURNING "Id";
2024-10-13 22:43:48.195 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-13 22:43:48.210 +03:00 [INF] Executed action ServerAsmv.Controllers.VolunteersController.AddVolunteer (ServerAsmv) in 7914.1476ms
2024-10-13 22:43:48.215 +03:00 [INF] Executed endpoint 'ServerAsmv.Controllers.VolunteersController.AddVolunteer (ServerAsmv)'
2024-10-13 22:43:48.234 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5235/api/Volunteers/new-volunteer - 200 null text/plain; charset=utf-8 8144.2859ms
2024-10-13 22:44:27.136 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/index.html - null null
2024-10-13 22:44:27.172 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/index.html - 200 null text/html;charset=utf-8 36.1549ms
2024-10-13 22:44:28.040 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/v1/swagger.json - null null
2024-10-13 22:44:28.098 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.8271ms
2024-10-13 22:45:04.644 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5235/api/Volunteers/new-volunteer - multipart/form-data; boundary=----WebKitFormBoundaryT1S4KIzMgCoyZymF 1365
2024-10-13 22:45:04.661 +03:00 [INF] CORS policy execution successful.
2024-10-13 22:45:04.669 +03:00 [INF] Executing endpoint 'ServerAsmv.Controllers.VolunteersController.AddVolunteer (ServerAsmv)'
2024-10-13 22:45:04.675 +03:00 [INF] Route matched with {action = "AddVolunteer", controller = "Volunteers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] AddVolunteer(ServerAsmv.DTOs.VolunteerDTO, Microsoft.AspNetCore.Http.IFormFile) on controller ServerAsmv.Controllers.VolunteersController (ServerAsmv).
2024-10-13 22:45:04.726 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__newVolunteer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Email", v."Firstname", v."JoinedDate", v."Lastname", v."President", v."VicePresident"
FROM volunteers AS v
WHERE v."Email" = @__newVolunteer_Email_0
LIMIT 1
2024-10-13 22:45:04.737 +03:00 [INF] Executed action ServerAsmv.Controllers.VolunteersController.AddVolunteer (ServerAsmv) in 58.2883ms
2024-10-13 22:45:04.741 +03:00 [INF] Executed endpoint 'ServerAsmv.Controllers.VolunteersController.AddVolunteer (ServerAsmv)'
2024-10-13 22:45:04.745 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Invalid image type. Allowed types are: jpg, jpeg, png.
   at ServerAsmv.Services.VolunteerService.AddVolunteer(VolunteerDTO newVolunteer, IFormFile photo) in C:\Users\razvan\Desktop\server-asmv\Services\VolunteerService.cs:line 38
   at ServerAsmv.Controllers.VolunteersController.AddVolunteer(VolunteerDTO volunteer, IFormFile photo) in C:\Users\razvan\Desktop\server-asmv\Controllers\VolunteersController.cs:line 22
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-13 22:45:04.825 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5235/api/Volunteers/new-volunteer - 500 null text/plain; charset=utf-8 180.4627ms
2024-10-13 22:45:16.973 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5235/api/Volunteers/new-volunteer - multipart/form-data; boundary=----WebKitFormBoundarycHlBergiTL8PyLoh 108675
2024-10-13 22:45:16.995 +03:00 [INF] CORS policy execution successful.
2024-10-13 22:45:17.057 +03:00 [INF] Executing endpoint 'ServerAsmv.Controllers.VolunteersController.AddVolunteer (ServerAsmv)'
2024-10-13 22:45:17.075 +03:00 [INF] Route matched with {action = "AddVolunteer", controller = "Volunteers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] AddVolunteer(ServerAsmv.DTOs.VolunteerDTO, Microsoft.AspNetCore.Http.IFormFile) on controller ServerAsmv.Controllers.VolunteersController (ServerAsmv).
2024-10-13 22:45:17.296 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__newVolunteer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Email", v."Firstname", v."JoinedDate", v."Lastname", v."President", v."VicePresident"
FROM volunteers AS v
WHERE v."Email" = @__newVolunteer_Email_0
LIMIT 1
2024-10-13 22:45:20.970 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO volunteers ("Email", "Firstname", "JoinedDate", "Lastname", "President", "VicePresident")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-10-13 22:45:20.976 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?', @p7='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "VolunteerImages" ("Url", "VolunteerId")
VALUES (@p6, @p7)
RETURNING "Id";
2024-10-13 22:45:20.999 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-13 22:45:21.003 +03:00 [INF] Executed action ServerAsmv.Controllers.VolunteersController.AddVolunteer (ServerAsmv) in 3880.8475ms
2024-10-13 22:45:21.007 +03:00 [INF] Executed endpoint 'ServerAsmv.Controllers.VolunteersController.AddVolunteer (ServerAsmv)'
2024-10-13 22:45:21.011 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5235/api/Volunteers/new-volunteer - 200 null text/plain; charset=utf-8 4037.9263ms
2024-10-13 22:46:01.702 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/api/Volunteers/4 - null null
2024-10-13 22:46:01.707 +03:00 [INF] Executing endpoint 'ServerAsmv.Controllers.VolunteersController.GetVolunteer (ServerAsmv)'
2024-10-13 22:46:01.715 +03:00 [INF] Route matched with {action = "GetVolunteer", controller = "Volunteers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.ValueTuple`2[ServerAsmv.Models.Volunteer,System.String]]] GetVolunteer(Int64) on controller ServerAsmv.Controllers.VolunteersController (ServerAsmv).
2024-10-13 22:46:01.761 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Email", v."Firstname", v."JoinedDate", v."Lastname", v."President", v."VicePresident"
FROM volunteers AS v
WHERE v."Id" = @__p_0
LIMIT 1
2024-10-13 22:46:01.779 +03:00 [INF] Executing OkObjectResult, writing value of type 'ServerAsmv.Models.Volunteer'.
2024-10-13 22:46:01.808 +03:00 [INF] Executed action ServerAsmv.Controllers.VolunteersController.GetVolunteer (ServerAsmv) in 89.7692ms
2024-10-13 22:46:01.811 +03:00 [INF] Executed endpoint 'ServerAsmv.Controllers.VolunteersController.GetVolunteer (ServerAsmv)'
2024-10-13 22:46:01.813 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/api/Volunteers/4 - 200 null application/json; charset=utf-8 111.2075ms
2024-10-13 22:49:46.491 +03:00 [INF] Application is shutting down...
2024-10-13 22:49:57.544 +03:00 [INF] User profile is available. Using 'C:\Users\razvan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-13 22:49:57.939 +03:00 [INF] Now listening on: http://0.0.0.0:5235
2024-10-13 22:49:57.944 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-13 22:49:57.946 +03:00 [INF] Hosting environment: Development
2024-10-13 22:49:57.949 +03:00 [INF] Content root path: C:\Users\razvan\Desktop\server-asmv
2024-10-13 22:50:05.245 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/index.html - null null
2024-10-13 22:50:05.541 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/index.html - 200 null text/html;charset=utf-8 299.0233ms
2024-10-13 22:50:06.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/v1/swagger.json - null null
2024-10-13 22:50:06.989 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/swagger-ui-standalone-preset.js - null null
2024-10-13 22:50:06.989 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/swagger-ui-bundle.js - null null
2024-10-13 22:50:07.046 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-10-13 22:50:07.053 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-10-13 22:50:07.063 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 74.0822ms
2024-10-13 22:50:07.071 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 81.685ms
2024-10-13 22:50:07.172 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 414.3758ms
2024-10-13 22:50:15.411 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/api/Volunteers/4 - null null
2024-10-13 22:50:15.427 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-13 22:50:15.509 +03:00 [INF] Executing endpoint 'ServerAsmv.Controllers.VolunteersController.GetVolunteer (ServerAsmv)'
2024-10-13 22:50:15.566 +03:00 [INF] Route matched with {action = "GetVolunteer", controller = "Volunteers"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[ServerAsmv.Models.Volunteer] GetVolunteer(Int64) on controller ServerAsmv.Controllers.VolunteersController (ServerAsmv).
2024-10-13 22:50:19.247 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Email", v."Firstname", v."JoinedDate", v."Lastname", v."President", v."VicePresident", v0."Id", v0."Url", v0."VolunteerId"
FROM volunteers AS v
LEFT JOIN "VolunteerImages" AS v0 ON v."Id" = v0."VolunteerId"
WHERE v."Id" = @__id_0
LIMIT 1
2024-10-13 22:50:19.402 +03:00 [INF] Executing OkObjectResult, writing value of type 'ServerAsmv.Models.Volunteer'.
2024-10-13 22:50:19.440 +03:00 [INF] Executed action ServerAsmv.Controllers.VolunteersController.GetVolunteer (ServerAsmv) in 3862.4519ms
2024-10-13 22:50:19.444 +03:00 [INF] Executed endpoint 'ServerAsmv.Controllers.VolunteersController.GetVolunteer (ServerAsmv)'
2024-10-13 22:50:19.464 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/api/Volunteers/4 - 200 null application/json; charset=utf-8 4052.8595ms
2024-10-13 22:51:07.690 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/api/Volunteers - null null
2024-10-13 22:51:07.701 +03:00 [INF] Executing endpoint 'ServerAsmv.Controllers.VolunteersController.GetVolunteers (ServerAsmv)'
2024-10-13 22:51:07.715 +03:00 [INF] Route matched with {action = "GetVolunteers", controller = "Volunteers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ServerAsmv.Models.Volunteer]]] GetVolunteers() on controller ServerAsmv.Controllers.VolunteersController (ServerAsmv).
2024-10-13 22:51:07.781 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Email", v."Firstname", v."JoinedDate", v."Lastname", v."President", v."VicePresident"
FROM volunteers AS v
2024-10-13 22:51:07.793 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServerAsmv.Models.Volunteer, ServerAsmv, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-13 22:51:07.801 +03:00 [INF] Executed action ServerAsmv.Controllers.VolunteersController.GetVolunteers (ServerAsmv) in 81.0171ms
2024-10-13 22:51:07.804 +03:00 [INF] Executed endpoint 'ServerAsmv.Controllers.VolunteersController.GetVolunteers (ServerAsmv)'
2024-10-13 22:51:07.808 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/api/Volunteers - 200 null application/json; charset=utf-8 117.7741ms
2024-10-13 22:51:48.231 +03:00 [INF] Application is shutting down...
2024-10-13 22:51:57.516 +03:00 [INF] User profile is available. Using 'C:\Users\razvan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-13 22:51:57.892 +03:00 [INF] Now listening on: http://0.0.0.0:5235
2024-10-13 22:51:57.900 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-13 22:51:57.903 +03:00 [INF] Hosting environment: Development
2024-10-13 22:51:57.906 +03:00 [INF] Content root path: C:\Users\razvan\Desktop\server-asmv
2024-10-13 22:52:00.524 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/index.html - null null
2024-10-13 22:52:00.830 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/index.html - 200 null text/html;charset=utf-8 309.6523ms
2024-10-13 22:52:01.299 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/v1/swagger.json - null null
2024-10-13 22:52:01.903 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 603.6434ms
2024-10-13 22:52:07.105 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/api/Volunteers - null null
2024-10-13 22:52:07.122 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-13 22:52:07.224 +03:00 [INF] Executing endpoint 'ServerAsmv.Controllers.VolunteersController.GetVolunteers (ServerAsmv)'
2024-10-13 22:52:07.273 +03:00 [INF] Route matched with {action = "GetVolunteers", controller = "Volunteers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ServerAsmv.Models.Volunteer]]] GetVolunteers() on controller ServerAsmv.Controllers.VolunteersController (ServerAsmv).
2024-10-13 22:52:11.910 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Email", v."Firstname", v."JoinedDate", v."Lastname", v."President", v."VicePresident", v0."Id", v0."Url", v0."VolunteerId"
FROM volunteers AS v
LEFT JOIN "VolunteerImages" AS v0 ON v."Id" = v0."VolunteerId"
2024-10-13 22:52:12.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServerAsmv.Models.Volunteer, ServerAsmv, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-13 22:52:12.153 +03:00 [INF] Executed action ServerAsmv.Controllers.VolunteersController.GetVolunteers (ServerAsmv) in 4870.0649ms
2024-10-13 22:52:12.158 +03:00 [INF] Executed endpoint 'ServerAsmv.Controllers.VolunteersController.GetVolunteers (ServerAsmv)'
2024-10-13 22:52:12.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/api/Volunteers - 200 null application/json; charset=utf-8 5071.4708ms
2024-10-13 22:58:34.791 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5235/api/Volunteers/1 - null null
2024-10-13 22:58:34.851 +03:00 [INF] CORS policy execution successful.
2024-10-13 22:58:34.855 +03:00 [INF] Executing endpoint 'ServerAsmv.Controllers.VolunteersController.RemoveVolunteer (ServerAsmv)'
2024-10-13 22:58:34.913 +03:00 [INF] Route matched with {action = "RemoveVolunteer", controller = "Volunteers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] RemoveVolunteer(Int64) on controller ServerAsmv.Controllers.VolunteersController (ServerAsmv).
2024-10-13 22:58:35.270 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Email", v."Firstname", v."JoinedDate", v."Lastname", v."President", v."VicePresident"
FROM volunteers AS v
WHERE v."Id" = @__p_0
LIMIT 1
2024-10-13 22:58:35.489 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM volunteers
WHERE "Id" = @p0;
2024-10-13 22:58:35.515 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-13 22:58:35.521 +03:00 [INF] Executed action ServerAsmv.Controllers.VolunteersController.RemoveVolunteer (ServerAsmv) in 603.972ms
2024-10-13 22:58:35.526 +03:00 [INF] Executed endpoint 'ServerAsmv.Controllers.VolunteersController.RemoveVolunteer (ServerAsmv)'
2024-10-13 22:58:35.531 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5235/api/Volunteers/1 - 200 null text/plain; charset=utf-8 742.2318ms
2024-10-13 22:59:35.907 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5235/api/Volunteers/4 - multipart/form-data; boundary=----WebKitFormBoundaryEwSfMe4HrCmzQaZV 234868
2024-10-13 22:59:35.922 +03:00 [INF] CORS policy execution successful.
2024-10-13 22:59:35.924 +03:00 [INF] Executing endpoint 'ServerAsmv.Controllers.VolunteersController.UpdateVolunteer (ServerAsmv)'
2024-10-13 22:59:35.950 +03:00 [INF] Route matched with {action = "UpdateVolunteer", controller = "Volunteers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] UpdateVolunteer(Int64, ServerAsmv.DTOs.VolunteerDTO, Microsoft.AspNetCore.Http.IFormFile) on controller ServerAsmv.Controllers.VolunteersController (ServerAsmv).
2024-10-13 22:59:36.055 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-13 22:59:36.108 +03:00 [INF] Executed action ServerAsmv.Controllers.VolunteersController.UpdateVolunteer (ServerAsmv) in 153.9424ms
2024-10-13 22:59:36.111 +03:00 [INF] Executed endpoint 'ServerAsmv.Controllers.VolunteersController.UpdateVolunteer (ServerAsmv)'
2024-10-13 22:59:36.122 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5235/api/Volunteers/4 - 400 null application/problem+json; charset=utf-8 214.8811ms
2024-10-13 23:03:51.560 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5235/api/Volunteers/4 - multipart/form-data; boundary=----WebKitFormBoundarymwKUVD80ES0EEZvs 234873
2024-10-13 23:03:51.592 +03:00 [INF] CORS policy execution successful.
2024-10-13 23:03:51.595 +03:00 [INF] Executing endpoint 'ServerAsmv.Controllers.VolunteersController.UpdateVolunteer (ServerAsmv)'
2024-10-13 23:03:51.608 +03:00 [INF] Route matched with {action = "UpdateVolunteer", controller = "Volunteers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] UpdateVolunteer(Int64, ServerAsmv.DTOs.VolunteerDTO, Microsoft.AspNetCore.Http.IFormFile) on controller ServerAsmv.Controllers.VolunteersController (ServerAsmv).
2024-10-13 23:03:51.686 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-13 23:03:51.696 +03:00 [INF] Executed action ServerAsmv.Controllers.VolunteersController.UpdateVolunteer (ServerAsmv) in 80.5846ms
2024-10-13 23:03:51.701 +03:00 [INF] Executed endpoint 'ServerAsmv.Controllers.VolunteersController.UpdateVolunteer (ServerAsmv)'
2024-10-13 23:03:51.714 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5235/api/Volunteers/4 - 400 null application/problem+json; charset=utf-8 156.7815ms
2024-10-13 23:04:41.637 +03:00 [INF] Application is shutting down...
2024-10-13 23:05:04.874 +03:00 [INF] User profile is available. Using 'C:\Users\razvan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-13 23:05:05.118 +03:00 [INF] Now listening on: http://0.0.0.0:5235
2024-10-13 23:05:05.123 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-13 23:05:05.128 +03:00 [INF] Hosting environment: Development
2024-10-13 23:05:05.130 +03:00 [INF] Content root path: C:\Users\razvan\Desktop\server-asmv
2024-10-13 23:05:36.742 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/index.html - null null
2024-10-13 23:05:37.141 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/index.html - 200 null text/html;charset=utf-8 404.5657ms
2024-10-13 23:05:38.375 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/swagger/v1/swagger.json - null null
2024-10-13 23:05:38.942 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 567.1512ms
2024-10-13 23:06:05.653 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5235/api/Volunteers/4 - multipart/form-data; boundary=----WebKitFormBoundaryJhHCpzdM6RmirnPe 234876
2024-10-13 23:06:05.671 +03:00 [WRN] Failed to determine the https port for redirect.
2024-10-13 23:06:05.745 +03:00 [INF] CORS policy execution successful.
2024-10-13 23:06:05.751 +03:00 [INF] Executing endpoint 'ServerAsmv.Controllers.VolunteersController.UpdateVolunteer (ServerAsmv)'
2024-10-13 23:06:05.816 +03:00 [INF] Route matched with {action = "UpdateVolunteer", controller = "Volunteers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] UpdateVolunteer(Int64, ServerAsmv.DTOs.VolunteerDTO, Microsoft.AspNetCore.Http.IFormFile) on controller ServerAsmv.Controllers.VolunteersController (ServerAsmv).
2024-10-13 23:06:10.141 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Email", v."Firstname", v."JoinedDate", v."Lastname", v."President", v."VicePresident"
FROM volunteers AS v
WHERE v."Id" = @__p_0
LIMIT 1
2024-10-13 23:06:13.177 +03:00 [ERR] Failed executing DbCommand (45ms) [Parameters=[@p0='?', @p1='?' (DbType = Int64), @p5='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "VolunteerImages" ("Url", "VolunteerId")
VALUES (@p0, @p1)
RETURNING "Id";
UPDATE volunteers SET "Email" = @p2, "Firstname" = @p3, "President" = @p4
WHERE "Id" = @p5;
2024-10-13 23:06:13.267 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ServerAsmv.Data.AppData'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_VolunteerImages_VolunteerId"

DETAIL: Key ("VolunteerId")=(4) already exists.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_VolunteerImages_VolunteerId"
    Detail: Key ("VolunteerId")=(4) already exists.
    SchemaName: public
    TableName: VolunteerImages
    ConstraintName: IX_VolunteerImages_VolunteerId
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_VolunteerImages_VolunteerId"

DETAIL: Key ("VolunteerId")=(4) already exists.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_VolunteerImages_VolunteerId"
    Detail: Key ("VolunteerId")=(4) already exists.
    SchemaName: public
    TableName: VolunteerImages
    ConstraintName: IX_VolunteerImages_VolunteerId
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-10-13 23:06:13.338 +03:00 [INF] Executed action ServerAsmv.Controllers.VolunteersController.UpdateVolunteer (ServerAsmv) in 7505.0056ms
2024-10-13 23:06:13.342 +03:00 [INF] Executed endpoint 'ServerAsmv.Controllers.VolunteersController.UpdateVolunteer (ServerAsmv)'
2024-10-13 23:06:13.350 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_VolunteerImages_VolunteerId"

DETAIL: Key ("VolunteerId")=(4) already exists.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_VolunteerImages_VolunteerId"
    Detail: Key ("VolunteerId")=(4) already exists.
    SchemaName: public
    TableName: VolunteerImages
    ConstraintName: IX_VolunteerImages_VolunteerId
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ServerAsmv.Services.VolunteerService.UpdateVolunteer(Int64 id, VolunteerDTO volunteer, IFormFile photo) in C:\Users\razvan\Desktop\server-asmv\Services\VolunteerService.cs:line 135
   at ServerAsmv.Controllers.VolunteersController.UpdateVolunteer(Int64 id, VolunteerDTO volunteer, IFormFile photo) in C:\Users\razvan\Desktop\server-asmv\Controllers\VolunteersController.cs:line 70
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-13 23:06:13.502 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5235/api/Volunteers/4 - 500 null text/plain; charset=utf-8 7849.5592ms
2024-10-13 23:20:16.515 +03:00 [INF] Application is shutting down...
2024-10-13 23:20:37.236 +03:00 [INF] User profile is available. Using 'C:\Users\razvan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-13 23:20:37.612 +03:00 [INF] Now listening on: http://0.0.0.0:5235
2024-10-13 23:20:37.617 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-13 23:20:37.619 +03:00 [INF] Hosting environment: Development
2024-10-13 23:20:37.622 +03:00 [INF] Content root path: C:\Users\razvan\Desktop\server-asmv
